/*! Built with http://stenciljs.com */
import{h}from"../scheduler.core.js";var ScheduleDayComponent=function(){function e(){}return e.prototype.componentDidLoad=function(){var e=this;this.onSlotChange(),this.element.shadowRoot.querySelector("slot[data-events]").addEventListener("slotchange",function(){e.onSlotChange()}),this.onHeaderChange(),this.element.shadowRoot.querySelector("slot[name='header']").addEventListener("slotchange",function(){e.onHeaderChange()})},e.prototype.render=function(){return h("div",{class:"root",style:{width:"100%",height:"100%"}},h("div",{class:"header-container"},h("slot",{name:"header"})),h("div",{class:"container",style:{position:"relative"}},h("schedule-day-board",{range:"6-22"}),h("slot",{"data-events":!0})))},e.prototype.onHeaderChange=function(){var e=this.element.querySelectorAll('schedule-header[slot="header"]');e.length&&e.forEach(function(t,n){t.style.width=100/e.length+"%",t.style.left=100*n/e.length+"%"})},e.prototype.onSlotChange=function(){var e=this.element.querySelectorAll("schedule-resource");e.length&&e.forEach(function(t,n){t.style.width=100/e.length+"%",t.style.left=100*n/e.length+"%"})},Object.defineProperty(e,"is",{get:function(){return"schedule-day"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"encapsulation",{get:function(){return"shadow"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"properties",{get:function(){return{element:{elementRef:!0},resources:{type:"Any",attr:"resources"}}},enumerable:!0,configurable:!0}),Object.defineProperty(e,"style",{get:function(){return":host{-webkit-box-sizing:border-box;box-sizing:border-box;--timeline-width:45px;--schedule-border-color:hsla(0,0%,47.1%,0.2)}.container{height:100%}.container,.root{display:-ms-flexbox;display:flex}.root{-ms-flex-direction:column;flex-direction:column}.resource-header-cont{margin-left:42px;display:-ms-flexbox;display:flex}.header{text-align:center}.header:not(:last-child){border-right:1px solid var(--schedule-border-color,hsla(0,0%,47.1%,.7))}schedule-timeline{border-top:1px solid var(--schedule-border-color,hsla(0,0%,47.1%,.7))}:host{display:block;border:1px solid var(--schedule-border-color,hsla(0,0%,47.1%,.7));padding-left:var(--timeline-width)}schedule-day-board{border-top:1px solid var(--schedule-border-color,hsla(0,0%,47.1%,.7));margin-left:calc(var(--timeline-width) * -1);height:100%;width:calc(100% + var(--timeline-width));-webkit-box-sizing:border-box;box-sizing:border-box}::slotted(schedule-header:not(:last-of-type)),::slotted(schedule-resource:not(:last-of-type)){border-right:1px solid var(--schedule-border-color,hsla(0,0%,47.1%,.7))}::slotted(schedule-header:first-of-type),::slotted(schedule-resource:first-of-type){border-left:1px solid var(--schedule-border-color,hsla(0,0%,47.1%,.7))}::slotted(schedule-header){display:inline-block;-webkit-box-sizing:border-box;box-sizing:border-box}"},enumerable:!0,configurable:!0}),e}(),ScheduleDayBoardComponent=function(){function e(){}return Object.defineProperty(e.prototype,"timeSlots",{get:function(){return this.range===this.slotsRange&&this.slots||(this.slots=e.buildTimeSlots(this.range),this.slotsRange=this.range),this.slots},enumerable:!0,configurable:!0}),e.prototype.getDateOffset=function(e){var t,n=e.split(":"),r=100/this.timeSlots.length,o=r*(+n[0]-this.timeSlots[0]);if(o<0)t=0;else if(o>100)t=100;else{t=o;var a=+n[1];a>0&&(t+=r*a/60)}return{top:t}},e.prototype.getEventDimensions=function(e,t){var n=this.getDateOffset(e).top;return{top:n,height:this.getDateOffset(t).top-n}},e.prototype.getTimeByOffset=function(e){var t=1440*e,n=t/60;return{hours:Math.trunc(n),minutes:Math.trunc(t-60*n)}},e.buildTimeSlots=function(e){if(!e)return[];for(var t=e.split("-"),n=Number(t[0]),r=Number(t[1]),o=[],a=n;a<=r;a++)o.push(a);return o},e.prototype.componentDidLoad=function(){this.ready.emit(),this.isReady=!0},e.prototype.render=function(){var e=this.timeSlots,t={height:100/e.length+"%"};return h("div",{class:"container"},e.map(function(e,n){return h("div",{class:"slot",style:t},h("div",{class:"time-slot"},0===n?"":e+":00"),h("div",{class:"board-slot"}))}),h("slot",null))},Object.defineProperty(e,"is",{get:function(){return"schedule-day-board"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"encapsulation",{get:function(){return"shadow"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"properties",{get:function(){return{element:{elementRef:!0},getDateOffset:{method:!0},getEventDimensions:{method:!0},getTimeByOffset:{method:!0},isReady:{type:Boolean,attr:"is-ready",mutable:!0},range:{type:"Any",attr:"range",reflectToAttr:!0,mutable:!0},step:{type:"Any",attr:"step",reflectToAttr:!0,mutable:!0}}},enumerable:!0,configurable:!0}),Object.defineProperty(e,"events",{get:function(){return[{name:"ready",method:"ready",bubbles:!0,cancelable:!0,composed:!0}]},enumerable:!0,configurable:!0}),Object.defineProperty(e,"style",{get:function(){return".container{width:100%;height:100%}:host{display:inline-block}.slot:not(:last-of-type) .board-slot{border-bottom:1px solid var(--schedule-border-color,hsla(0,0%,47.1%,.7));-webkit-box-sizing:border-box;box-sizing:border-box}.slot{position:relative}.time-slot{height:100%;display:inline-block;width:var(--timeline-width);text-align:center;top:-9px;position:absolute;color:hsla(0,0%,47.1%,.8);font-family:Arial;font-size:14px}.board-slot{float:right;height:100%;width:calc(100% - var(--timeline-width))}"},enumerable:!0,configurable:!0}),e}();export{ScheduleDayComponent as ScheduleDay,ScheduleDayBoardComponent as ScheduleDayBoard};